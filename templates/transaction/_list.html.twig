<table id="transaction_list" class="table table-striped table-sm">
    <thead>
    <tr>
        <th>ID</th>
        <th>Amount</th>
        <th>Currency</th>
        <th>Status</th>
        <th>Company</th>
        <th>Date</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    {% for transaction in transactions %}
        <tr>
            <td><a href="{{ path('transactions_view', {id: transaction.id }) }}">{{ transaction.id }}</a></td>
            <td>{{ transaction.amount.amount|number_format(2, '.') }}</td>
            <td>{{ transaction.amount.currency }}</td>
            <td>{{ transaction.status }}</td>
            <td><a href="{{ path('companies_view', {id: transaction.company.id }) }}">{{ transaction.company }}</a></td>
            <td>{{ transaction.createdAt|date }}</td>
            <td>
                <a href="{{ path('transactions_view', {id: transaction.id }) }}" class="btn btn-primary"><i class="bi bi-binoculars-fill"></i> View</a>
                <a href="{{ path('transactions_edit', {id: transaction.id }) }}" class="btn btn-warning"><i class="bi bi-pencil-square"></i> Edit</a>
                <a href="{{ path('transactions_delete', {id: transaction.id }) }}" class="btn btn-danger"><i class="bi bi-trash"></i> Delete</a>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>

{% if stats is defined %}
    <h2>Summary</h2>
    <table id="transaction_summary" class="table table-striped table-sm">
        <thead>
        <tr>
            <th>Currency</th>
            <th>Total amount</th>
        </tr>
        </thead>
        <tbody>
        {% for stat in stats %}
            <tr>
                <th>{{ stat._id }}</th>
                <th>{{ stat.amount|number_format(2, '.') }}</th>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endif %}
